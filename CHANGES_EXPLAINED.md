# ë³€ê²½ì‚¬í•­ ìƒì„¸ ì„¤ëª…

## ğŸ” ì‹¤ì œë¡œ ë°”ë€ ë¶€ë¶„

### 1. **"ì•½êµ­ ì†Œê°œ" ì„¹ì…˜ì˜ ë‚´ìš© ìš°ì„ ìˆœìœ„ ë³€ê²½**

**ì´ì „ (ë³€ê²½ ì „)**:
```
ì•½êµ­ ì†Œê°œ = pharmacies.gemini_summary ë˜ëŠ” í…œí”Œë¦¿ ê¸°ë°˜ ìš”ì•½
```

**í˜„ì¬ (ë³€ê²½ í›„)**:
```
ì•½êµ­ ì†Œê°œ = content_queue.ai_summary (ìµœìš°ì„ ) 
         â†’ pharmacies.gemini_summary (ì°¨ì„ )
         â†’ í…œí”Œë¦¿ ê¸°ë°˜ ìš”ì•½ (ìµœí›„)
```

### 2. **ë³€ê²½ ì „í›„ ë¹„êµ**

#### ë³€ê²½ ì „ ì˜ˆì‹œ (C2100016):
```
"1,2,3ì•½êµ­(ê²½ê¸° ë‚¨ì–‘ì£¼ì‹œ)ì€(ëŠ”) ê²½ê¸°ë„ ë‚¨ì–‘ì£¼ì‹œ ì˜¤ë‚¨ì ì–‘ì§€ë¡œ 47-63ì— ìœ„ì¹˜í•œ ì•½êµ­ì…ë‹ˆë‹¤. 
í˜„ì¬ ìƒíƒœëŠ” 'ì˜ì—… ì¢…ë£Œ'ì´ë©°, ì›” ê¸°ì¤€ ì˜ì—…ì‹œê°„ì€ 09:00~18:00ë¡œ í‘œì‹œë©ë‹ˆë‹¤..."
```
â†’ ì´ê²ƒì€ **í…œí”Œë¦¿ ê¸°ë°˜** ìë™ ìƒì„± ë¬¸êµ¬ì…ë‹ˆë‹¤.

#### ë³€ê²½ í›„ ì˜ˆì‹œ (C2100016):
```
"ê²½ê¸° ë‚¨ì–‘ì£¼ì‹œì˜ 1,2,3ì•½êµ­ì€ í˜„ì¬ ì˜ì—… ì¢…ë£Œ ìƒíƒœì…ë‹ˆë‹¤. ì˜¤ëŠ˜ ìš´ì˜ ì˜ˆì • ì‹œê°„ì€ 09:00ë¶€í„° 
18:00ê¹Œì§€ì…ë‹ˆë‹¤. ì´ ì•½êµ­ì€ ì˜¤ë‚¨ì ì–‘ì§€ë¡œ 47-63ì— ìœ„ì¹˜í•´ ìˆìœ¼ë©°..."
```
â†’ ì´ê²ƒì€ **Gemini AIê°€ ìƒì„±í•œ** ê³ ìœ í•œ ë¬¸êµ¬ì…ë‹ˆë‹¤.

### 3. **ì™œ ë³€í™”ê°€ ì•ˆ ë³´ì¼ ìˆ˜ ìˆë‚˜ìš”?**

#### ê°€ëŠ¥í•œ ì´ìœ  1: ë°°í¬ê°€ ì•„ì§ ì•ˆ ë¨
- ë¡œì»¬ ê°œë°œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì§€ ì•Šì•˜ê±°ë‚˜
- Vercel ë°°í¬ê°€ ì•„ì§ ì§„í–‰ ì¤‘ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤

#### ê°€ëŠ¥í•œ ì´ìœ  2: content_queue ë°ì´í„°ê°€ ì—†ìŒ
- `content_queue` í…Œì´ë¸”ì— í•´ë‹¹ ì•½êµ­ì˜ ë°ì´í„°ê°€ ì—†ìœ¼ë©´
- ê¸°ì¡´ì²˜ëŸ¼ `pharmacies.gemini_summary` ë˜ëŠ” í…œí”Œë¦¿ì„ ì‚¬ìš©í•©ë‹ˆë‹¤

#### ê°€ëŠ¥í•œ ì´ìœ  3: pending ìƒíƒœ
- ìƒì„±ëœ ì½˜í…ì¸ ê°€ `pending` ìƒíƒœì¸ë°
- ì½”ë“œê°€ `pending`ë„ ì½ì–´ì˜¤ë„ë¡ ìˆ˜ì •í–ˆì§€ë§Œ
- ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì½ì–´ì˜¤ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ğŸ”§ í™•ì¸ ë°©ë²•

### 1. ê°œë°œ ì„œë²„ì—ì„œ í™•ì¸
```bash
npm run dev
```
- http://localhost:3000/pharmacy/C2100016 ì ‘ì†
- "ì•½êµ­ ì†Œê°œ" ì„¹ì…˜ í™•ì¸

### 2. ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
Supabaseì—ì„œ í™•ì¸:
```sql
SELECT hpid, status, ai_summary 
FROM content_queue 
WHERE hpid IN ('C2100016', 'C2108696');
```

### 3. ì‹¤ì œ ë³€í™”ê°€ ë³´ì´ëŠ” ê²½ìš°
- **ë³€í™” ìˆìŒ**: "ì•½êµ­ ì†Œê°œ" ë¬¸êµ¬ê°€ ë” ìì—°ìŠ¤ëŸ½ê³  ìƒì„¸í•´ì§
- **ë³€í™” ì—†ìŒ**: ì—¬ì „íˆ í…œí”Œë¦¿ ê¸°ë°˜ ë¬¸êµ¬ê°€ í‘œì‹œë¨

## ğŸ“ ì½”ë“œ ë³€ê²½ ìœ„ì¹˜

### íŒŒì¼: `src/app/pharmacy/[id]/page.tsx`

**ë³€ê²½ ì „ (ë¼ì¸ 163)**:
```typescript
const [pharmacy] = await Promise.all([pharmacyPromise]);
```

**ë³€ê²½ í›„ (ë¼ì¸ 163-166)**:
```typescript
const [pharmacy, contentQueue] = await Promise.all([
  pharmacyPromise,
  getPublishedContentByHpid(hpid).catch(() => null),
]);
```

**ë³€ê²½ ì „ (ë¼ì¸ 319)**:
```typescript
{pharmacy.gemini_summary || finalSummary}
```

**ë³€ê²½ í›„ (ë¼ì¸ 325)**:
```typescript
{contentQueue?.ai_summary || pharmacy.gemini_summary || finalSummary}
```

## ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸

**ë³€í™”ê°€ ë³´ì´ë ¤ë©´**:
1. âœ… ì½”ë“œê°€ ë°°í¬ë˜ì–´ì•¼ í•¨ (Vercel)
2. âœ… `content_queue` í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆì–´ì•¼ í•¨
3. âœ… `status`ê°€ `published` ë˜ëŠ” `pending`ì´ì–´ì•¼ í•¨
4. âœ… `ai_summary` í•„ë“œì— ê°’ì´ ìˆì–´ì•¼ í•¨

**í˜„ì¬ ìƒíƒœ**:
- âœ… ì½”ë“œëŠ” ìˆ˜ì • ì™„ë£Œ
- âœ… GitHubì— í‘¸ì‹œ ì™„ë£Œ
- â³ Vercel ë°°í¬ ëŒ€ê¸° ì¤‘
- â“ `content_queue` ë°ì´í„° í™•ì¸ í•„ìš”

